parameters:

services:
    _defaults:
        autowire: true
        autoconfigure: true 

    App\:
        resource: '../src/'
        exclude: 
            - '../src/Kernel.php'
            - '../src/Infrastructure/ForTests/**/*'

    App\Application\Ports\Services\IAuthenticatedUserProvider: '@App\Infrastructure\ForProduction\Services\WebAuthenticatedUserProvider'
    App\Application\Ports\Services\IIdProvider: '@App\Infrastructure\ForProduction\Services\RandomIdProvider'
    App\Domain\Service\IPricingProvider: '@App\Infrastructure\ForProduction\Services\FixedPricingProvider'
    App\Application\Ports\Repositories\ICustomerRepository: '@App\Infrastructure\ForProduction\Repository\SqlCustomerRepository'
    App\Application\Ports\Repositories\ICustomerOrderRepository: '@App\Infrastructure\ForProduction\Repository\SqlCustomerOrderRepository'
    App\Application\Ports\Repositories\IDepositRepository: '@App\Infrastructure\ForProduction\Repository\SqlDepositRepository'
    App\Application\Ports\Repositories\IUserRepository: '@App\Infrastructure\ForProduction\Repository\SqlUserRepository'
    App\Application\Ports\Repositories\IOrderPaymentRepository: '@App\Infrastructure\ForProduction\Repository\SqlOrderPaymentRepository'
    App\Application\Ports\Repositories\IDriverRepository: '@App\Infrastructure\ForProduction\Repository\SqlDriverRepository'
    App\Application\Ports\Repositories\IVehicleRepository: '@App\Infrastructure\ForProduction\Repository\SqlVehicleRepository'
    App\Application\Ports\Repositories\ICustomerDeliveryRepository: '@App\Infrastructure\ForProduction\Repository\SqlCustomerDeliveryRepository'

    App\Application\Listeners\ExceptionListener:
        tags: [ kernel.event_listener ]

